"use strict";(self["webpackChunkphoto_gallery_vue"]=self["webpackChunkphoto_gallery_vue"]||[]).push([[541],{9541:function(e,t,s){s.r(t),s.d(t,{PreferencesWeb:function(){return i}});var r=s(9895);class i extends r.Uw{constructor(){super(...arguments),this.group="CapacitorStorage"}async configure({group:e}){"string"===typeof e&&(this.group=e)}async get(e){const t=this.impl.getItem(this.applyPrefix(e.key));return{value:t}}async set(e){this.impl.setItem(this.applyPrefix(e.key),e.value)}async remove(e){this.impl.removeItem(this.applyPrefix(e.key))}async keys(){const e=this.rawKeys().map((e=>e.substring(this.prefix.length)));return{keys:e}}async clear(){for(const e of this.rawKeys())this.impl.removeItem(e)}async migrate(){var e;const t=[],s=[],r="_cap_",i=Object.keys(this.impl).filter((e=>0===e.indexOf(r)));for(const n of i){const i=n.substring(r.length),a=null!==(e=this.impl.getItem(n))&&void 0!==e?e:"",{value:o}=await this.get({key:i});"string"===typeof o?s.push(i):(await this.set({key:i,value:a}),t.push(i))}return{migrated:t,existing:s}}async removeOld(){const e="_cap_",t=Object.keys(this.impl).filter((t=>0===t.indexOf(e)));for(const s of t)this.impl.removeItem(s)}get impl(){return window.localStorage}get prefix(){return"NativeStorage"===this.group?"":`${this.group}.`}rawKeys(){return Object.keys(this.impl).filter((e=>0===e.indexOf(this.prefix)))}applyPrefix(e){return this.prefix+e}}}}]);
//# sourceMappingURL=541.b3f0eb9e.js.map